<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Thing</title>

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="https://my.globio.io/oauth/account/Files/favicon.ico">

<!-- Import Manrope font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
  rel="stylesheet">

<!-- MAPBOX CSS & JS -->
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

<!-- Include Lottie player for the button animation -->
<script>
  // Prevent duplicate lottie-player registrationimage.png
  if (!customElements.get('lottie-player')) {
    const script = document.createElement('script');
    script.src = "https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js";
    document.head.appendChild(script);
  }
</script>

<!-- Include HEIC to JPEG converter -->
<script src="https://unpkg.com/heic2any@0.2.2/dist/heic2any.min.js" onload="console.log('HEIC2Any library loaded successfully')" onerror="console.error('Failed to load HEIC2Any library from unpkg, trying alternative...'); loadHeic2AnyAlternative();"></script>

<script>
  // Fallback function to load HEIC2Any from alternative CDN
  function loadHeic2AnyAlternative() {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/heic2any@0.2.2/dist/heic2any.min.js';
    script.onload = function() {
      console.log('HEIC2Any library loaded successfully from alternative CDN');
    };
    script.onerror = function() {
      console.error('Failed to load HEIC2Any library from alternative CDN as well');
    };
    document.head.appendChild(script);
  }
</script>


<link href="style.css" rel="stylesheet" />

<div id="one-thing-account-component">
  <!-- User Profile Section -->
  <div class="user-profile-section">
    <!-- Map Background -->
    <div class="map-hero-wrapper">
      <div id="dynamic-map" class="map-background"></div>
      <div class="map-overlay-gradient"></div>
    </div>
    
    <!-- User Zone Circle -->
    <div class="user-zone-circle" id="user-zone-circle">
      <div class="zone-tooltip" id="zone-tooltip">
        <div class="tooltip-content">
          <div class="tooltip-title">One Thing Generation Zone</div>
          <div class="tooltip-description">Activity radius: 70 km</div>
        </div>
      </div>
    </div>
    
    <!-- User Avatar -->
    <div class="user-avatar-container">
      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6883c7a80506f986b2f7ddb7_db85210bbfb795678a1578319074aaf4_placeholder.svg" alt="User avatar" class="user-avatar" id="user-avatar">
    </div>
    
    <!-- Location Section - Top Left -->
    <div class="location-section">
      <div class="globio-nav-wrapper">
        <div class="globio-nav-inner">
          <p id="location-text">
            <span class="location-prefix">Feel at Home in</span>
            <span id="location-clickable">
              <span id="location-detect" class="location-name">your place</span>
              <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6826567e4c85159257ae5e4e_811a212cf32b6b680a0b472b1a82f601_edit%202-dark.svg"
                   alt="Edit icon" />
            </span>
          </p>
          <img id="mobile-pin" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68cabcf45d1ad184feda1cfb_ot-location-icon.svg" alt="Change location" />
        </div>
      </div>
    </div>

    <!-- Share Section - Next to Location -->
    <div class="share-section" id="share-section">
      <div class="share-icon-wrapper">
        <img id="share-icon" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68ca8ce2c3104eb546fd2396_ot-share-icon.svg" alt="Share completed Things" />
      </div>
    </div>
    
    <!-- User Menu Section - Top Right -->
    <div class="user-menu-section">
      <div class="user-menu-button" id="user-menu-button">
        <span class="user-level-badge" id="user-level-badge">Explorer</span>
        <div class="user-divider"></div>
        <span class="user-name" id="user-menu-name">User</span>
        <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      
      <!-- User Dropdown Menu -->
      <div class="user-dropdown" id="user-dropdown">
        <div class="user-dropdown-header">
          <div class="user-email" id="dropdown-user-email">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.33594 4.66675L6.77922 8.47704C7.22 8.78559 7.44039 8.93986 7.68011 8.99962C7.89187 9.0524 8.11334 9.0524 8.32509 8.99962C8.56482 8.93986 8.78521 8.78559 9.22599 8.47704L14.6693 4.66675M4.53594 13.3334H11.4693C12.5894 13.3334 13.1494 13.3334 13.5773 13.1154C13.9536 12.9237 14.2595 12.6177 14.4513 12.2414C14.6693 11.8136 14.6693 11.2535 14.6693 10.1334V5.86675C14.6693 4.74664 14.6693 4.18659 14.4513 3.75877C14.2595 3.38244 13.9536 3.07648 13.5773 2.88474C13.1494 2.66675 12.5894 2.66675 11.4693 2.66675H4.53594C3.41583 2.66675 2.85578 2.66675 2.42796 2.88474C2.05163 3.07648 1.74567 3.38244 1.55392 3.75877C1.33594 4.18659 1.33594 4.74664 1.33594 5.86675V10.1334C1.33594 11.2535 1.33594 11.8136 1.55392 12.2414C1.74567 12.6177 2.05163 12.9237 2.42796 13.1154C2.85578 13.3334 3.41583 13.3334 4.53594 13.3334Z" stroke="#949494" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>user@example.com</span>
          </div>
        </div>
        <div class="user-dropdown-item" id="my-context-btn">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.26466 12.914L6.65429 13.7903C6.77012 14.0511 6.95915 14.2728 7.19844 14.4283C7.43774 14.5839 7.71703 14.6666 8.00244 14.6666C8.28785 14.6666 8.56714 14.5839 8.80644 14.4283C9.04574 14.2728 9.23476 14.0511 9.35059 13.7903L9.74022 12.914C9.87892 12.6031 10.1122 12.3438 10.4069 12.1733C10.7034 12.0022 11.0464 11.9294 11.3869 11.9651L12.3402 12.0666C12.624 12.0966 12.9104 12.0436 13.1647 11.9141C13.419 11.7846 13.6302 11.5841 13.7728 11.337C13.9156 11.0899 13.9836 10.8068 13.9686 10.5218C13.9536 10.2369 13.8563 9.96245 13.6884 9.73177L13.1239 8.95622C12.9229 8.67801 12.8155 8.34313 12.8173 7.99992C12.8172 7.65764 12.9256 7.32415 13.1269 7.04733L13.6913 6.27177C13.8592 6.04109 13.9566 5.76663 13.9716 5.4817C13.9866 5.19677 13.9186 4.91361 13.7758 4.66659C13.6332 4.41941 13.4219 4.21891 13.1676 4.0894C12.9134 3.9599 12.627 3.90694 12.3432 3.93696L11.3898 4.03844C11.0494 4.07419 10.7064 4.00133 10.4098 3.83029C10.1146 3.65875 9.88123 3.39816 9.74318 3.08584L9.35059 2.20955C9.23476 1.9487 9.04574 1.72706 8.80644 1.57152C8.56714 1.41597 8.28785 1.33321 8.00244 1.33325C7.71703 1.33321 7.43774 1.41597 7.19844 1.57152C6.95915 1.72706 6.77012 1.9487 6.65429 2.20955L6.26466 3.08584C6.12662 3.39816 5.89325 3.65875 5.598 3.83029C5.30147 4.00133 4.95844 4.07419 4.618 4.03844L3.6617 3.93696C3.37792 3.90694 3.09153 3.9599 2.83724 4.0894C2.58296 4.21891 2.37171 4.41941 2.22911 4.66659C2.08632 4.91361 2.0183 5.19677 2.03329 5.4817C2.04828 5.76663 2.14564 6.04109 2.31355 6.27177L2.878 7.04733C3.07929 7.32415 3.18769 7.65764 3.18763 7.99992C3.18769 8.34219 3.07929 8.67569 2.878 8.95251L2.31355 9.72807C2.14564 9.95875 2.04828 10.2332 2.03329 10.5181C2.0183 10.8031 2.08632 11.0862 2.22911 11.3333C2.37185 11.5803 2.58313 11.7807 2.83737 11.9102C3.09162 12.0397 3.37794 12.0927 3.6617 12.0629L4.61503 11.9614C4.95548 11.9256 5.29851 11.9985 5.59503 12.1695C5.89139 12.3406 6.12584 12.6012 6.26466 12.914Z" stroke="#949494" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8.00125 9.99992C9.10582 9.99992 10.0013 9.10449 10.0013 7.99992C10.0013 6.89535 9.10582 5.99992 8.00125 5.99992C6.89668 5.99992 6.00125 6.89535 6.00125 7.99992C6.00125 9.10449 6.89668 9.99992 8.00125 9.99992Z" stroke="#949494" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          My Context
        </div>
        <div class="user-dropdown-item" id="my-referrals-btn">
          <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68c45ddb48425d67a29c52e3_link-03.svg" alt="My Referrals" width="16" height="16">
          My Referrals
        </div>
        <div class="user-dropdown-item" id="logout-btn">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.0026 5.33333L14.6693 8M14.6693 8L12.0026 10.6667M14.6693 8H6.0026M10.0026 2.80269C9.15277 2.29218 8.1661 2 7.11372 2C3.92274 2 1.33594 4.68629 1.33594 8C1.33594 11.3137 3.92274 14 7.11372 14C8.1661 14 9.15277 13.7078 10.0026 13.1973" stroke="#949494" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Logout
        </div>
      </div>
    </div>
  </div>

  <!-- Sticky User Summary Section -->
  <div class="sticky-user-summary" id="sticky-user-summary">
    <div class="sticky-user-content">
      <img class="sticky-user-avatar" id="sticky-user-avatar" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6883c7a80506f986b2f7ddb7_db85210bbfb795678a1578319074aaf4_placeholder.svg" alt="User Avatar" width="34" height="34">
      <div class="sticky-user-info">
        <div class="sticky-user-location" id="sticky-user-location">
          <span class="sticky-location-prefix">at Home in </span>
          <span class="sticky-location-name" id="sticky-location-name">Sofia</span>
        </div>
        <span class="sticky-user-role" id="sticky-user-role">as</span>
        <span class="sticky-level-badge" id="sticky-level-badge">Visitor</span>
      </div>
    </div>
  </div>

  <!-- My Context Modal -->
  <div class="my-context-modal" id="my-context-modal">
    <div class="my-context-content">
      <button class="close-modal" id="close-my-context-modal">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
      </button>
      <h2 class="my-context-title">
        My Context
      </h2>
      <p class="my-context-description">Here you can set your personal context—like whether you have kids, pets, or a car. This helps Globio suggest more relevant One Things for your life in a new city.</p>
      
      <!-- Switch Options -->
      <div class="switch-row">
        <div class="switch-card">
          <p class="switch-label">Kids</p>
          <label class="switch">
            <input type="checkbox" id="has-kids">
            <span class="slider round"></span>
          </label>
        </div>
        <div class="switch-card">
          <p class="switch-label">Pets</p>
          <label class="switch">
            <input type="checkbox" id="has-pets">
            <span class="slider round"></span>
          </label>
        </div>
        <div class="switch-card">
          <p class="switch-label">Car</p>
          <label class="switch">
            <input type="checkbox" id="has-car">
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      
      <button class="save-changes-btn" id="save-context-btn">Save Changes</button>
    </div>
  </div>

  <!-- My Referrals Modal -->
  <div class="my-referrals-modal" id="my-referrals-modal">
    <div class="my-referrals-content">
      <button class="close-modal" id="close-my-referrals-modal">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
      </button>
      <h2 class="my-referrals-title">
        My Referrals
      </h2>
      <p class="my-referrals-description">Share your referral link with friends and help them discover amazing things in your area!</p>
      
      <!-- Referral Link Section -->
      <div class="referral-link-section">
        <div class="referral-link-container">
          <div class="referral-link-display" id="referral-link-display">
            <span class="referral-link-base">globio.io/one-thing?ref=</span>
            <span class="referral-link-code" id="referral-link-code">1964-2207</span>
          </div>
          <button class="copy-referral-btn" id="copy-referral-btn">
            <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68c4522bf8804bd3b586530a_copy-06.svg" alt="Copy" width="24" height="24">
          </button>
        </div>
      </div>
      
      <!-- Referral Stats -->
      <div class="referral-stats">
        <div class="referral-stat-item">
          <div class="referral-stat-number" id="referral-count">0</div>
          <div class="referral-stat-label">Friends Joined</div>
        </div>
      </div>
      
      <button class="share-referral-btn" id="share-referral-btn">Share with Friends</button>
    </div>
  </div>

  <!-- Location Change Modal -->
  <div class="location-modal" id="location-modal">
    <div class="location-modal-content">
      <button class="close-modal" id="close-location-modal">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
      </button>
      <div class="location-modal-header">
        <div class="location-modal-title">
          Change Location
        </div>
      </div>
      
      <div class="location-input-section">
        <input type="text" id="location-input" class="location-input" placeholder="e.g., London, Berlin, Tokyo">
      </div>

      <!-- Location Icon -->
      <div class="location-modal-icon">
        <svg width="112" height="112" viewBox="0 0 112 112" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12.5408 73.0105L21.4457 67.8698C21.928 67.5914 22.4941 67.4946 23.0415 67.5971L40.5625 70.8762C42.0024 71.1457 43.3316 70.0372 43.325 68.5723L43.2568 53.2207C43.255 52.8036 43.365 52.3936 43.5753 52.0335L52.4174 36.8956C52.8776 36.1077 52.8363 35.124 52.3118 34.3774L37.4242 13.1864M88.6703 22.6755C63.0036 35.0001 77.0028 51.3334 81.6703 53.6668C90.4299 58.0459 102.612 58.3332 102.612 58.3332C102.65 57.5602 102.669 56.7823 102.669 55.9999C102.669 30.2266 81.7759 9.33325 56.0026 9.33325C30.2293 9.33325 9.33594 30.2266 9.33594 55.9999C9.33594 81.7732 30.2293 102.667 56.0026 102.667C56.785 102.667 57.563 102.647 58.3359 102.609M78.2056 102.386L63.4273 63.4246L102.388 78.2029L85.1116 85.1089L78.2056 102.386Z" stroke="#E2E1E1" stroke-width="3.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>

      <div class="location-results" id="location-results"></div>
      
      <div class="location-modal-buttons" style="display: none;">
        <button class="location-detect-btn" id="location-detect-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/>
          </svg>
          Use Current Location
        </button>
      </div>
    </div>
  </div>

  <!-- Main button -->
  <div id="one-thing-btn" class="one-thing-account-btn">
    <div class="spinner-ring-account"></div>
    <lottie-player
      src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/66da138e010ced8db19ff94b_preloader-web.json"
      background="transparent" speed="1" style="width: 100px; height: 100px;" loop autoplay>
    </lottie-player>
  </div>
  <div id="attempts-counter"></div>
  <!-- Filters with icons -->
  <div class="filter-buttons">
    <div class="dropdown-container">
      <button class="dropdown-trigger active" id="all-categories-dropdown">
        <span>All Categories</span>
        <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
          <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <div class="dropdown-menu" id="categories-dropdown-menu">
        <div class="dropdown-item" data-category="all">
          <div class="category-indicator all"></div>
          <span>All Categories</span>
        </div>
        <div class="dropdown-item" data-category="daily">
          <div class="category-indicator daily"></div>
          <span>Daily Things</span>
        </div>
        <div class="dropdown-item" data-category="places">
          <div class="category-indicator places"></div>
          <span>Places</span>
        </div>
        <div class="dropdown-item" data-category="local">
          <div class="category-indicator local"></div>
          <span>Local Context</span>
        </div>
      </div>
    </div>
    <div class="filter-group">
      <button data-filter="saved">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/689626252407e18c78a483d3_saved-icon.svg"
          alt="Saved" width="16" height="16">
        <span>Saved</span>
      </button>
      <button data-filter="completed">
        <img
          src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68962640c9b2c3eb35cd53d1_completed-icon.svg"
          alt="Completed" width="16" height="16">
        <span>Completed</span>
      </button>
      <div class="filter-divider"></div>
      <button data-filter="community">
        <img
          src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68962655c9b2c3eb35cd5a48_community-icon.svg"
          alt="Community" width="16" height="16">
        <span>Community</span>
      </button>
    </div>
  </div>
  <div id="one-thing-card-list"></div>
</div>


<!-- Success tooltip -->
<div id="success-tooltip" class="success-tooltip">
  <span>Thing completed!</span>
</div>

<!-- Public success tooltip -->
<div id="public-success-tooltip" class="success-tooltip">
  <span>Thing is now Public!</span>
</div>

<!-- Private success tooltip -->
<div id="private-success-tooltip" class="success-tooltip">
  <span>Thing is now Private!</span>
</div>

<!-- Saved success tooltip -->
<div id="saved-success-tooltip" class="success-tooltip">
  <span>Thing Saved!</span>
</div>

<!-- Copy Error tooltip -->
<div id="copy-error-tooltip" class="copy-error-tooltip">
  <span>Failed to copy link. Please copy manually.</span>
</div>

<!-- HEIC Error tooltip -->
<div id="heic-error-tooltip" class="heic-error-tooltip">
  <span>Error converting HEIC image. Please try a different image format.</span>
</div>

<!-- Location Error tooltip -->
<div id="location-error-tooltip" class="location-error-tooltip">
  <span>Location error occurred</span>
</div>

<!-- Image Popup Modal -->
<div class="image-popup-modal" id="image-popup-modal">
  <div class="image-popup-overlay"></div>
  <div class="image-popup-content">
    <button class="image-popup-close" id="image-popup-close">
      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
    </button>
    <img class="image-popup-img" id="image-popup-img" src="" alt="Card image">
  </div>
</div>

<!-- Location Success tooltip -->
<div id="location-success-tooltip" class="location-success-tooltip">
  <span>Location changed successfully!</span>
</div>

<!-- Context Updated tooltip -->
<div id="context-success-tooltip" class="success-tooltip">
  <span>Context Updated!</span>
</div>

<!-- Levels popup -->
<div id="levels-popup" class="levels-popup">
  <div class="levels-popup-inner">
    <button class="levels-close" id="levels-close">
      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
    </button>
    <div class="levels-header">
      <h3 class="levels-title">Your Progress</h3>
    </div>
    
    <!-- Progress Tabs -->
    <div class="progress-tabs-container">
      <div class="progress-tabs">
        <button class="progress-tab active" id="local-tab" data-tab="local">
          <span class="tab-label">Local</span>
        </button>
        <button class="progress-tab" id="global-tab" data-tab="global">
          <span class="tab-label">Global</span>
        </button>
      </div>
    </div>
    
    <!-- Tab Description -->
    <div class="tab-description-container">
      <p class="tab-description-text" id="tab-description-text">Progress in your current location</p>
      <div class="info-icon">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="6" cy="6" r="5" stroke="#666" stroke-width="1"/>
          <path d="M6 4v4M6 8h.01" stroke="#666" stroke-width="1" stroke-linecap="round"/>
        </svg>
      </div>
    </div>
    
    <!-- Scrollable Content -->
    <div class="levels-scrollable-content">
      <div class="current-level-info">
        <!-- Dynamic Visual Container (behind avatar) -->
        <div class="dynamic-visual-container">
            <img id="dynamic-visual" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68bfe28c396f3faca6234db5_adaptio.svg" alt="Level Visual" width="200" height="200">
        </div>
        
        <div class="circular-progress-container">
          <div class="circular-progress">
            <svg class="progress-ring" width="80" height="80">
              <circle class="progress-ring-circle-bg" cx="40" cy="40" r="35" fill="transparent" stroke="#e0e0e0" stroke-width="6"/>
              <circle class="progress-ring-circle" cx="40" cy="40" r="35" fill="transparent" stroke="#B1E530" stroke-width="6" stroke-linecap="round" stroke-dasharray="219.8" stroke-dashoffset="219.8"/>
            </svg>
            <div class="current-level-avatar">
              <img id="levels-avatar" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6883c7a80506f986b2f7ddb7_db85210bbfb795678a1578319074aaf4_placeholder.svg" alt="User Avatar" width="48" height="48">
            </div>
          </div>
        </div>
      </div>
      <div class="levels-list" id="levels-list">
        <!-- Levels will be populated by JavaScript -->
      </div>
    </div>
  </div>
</div>

<!-- Confirmation popup -->
<div id="confirmation-popup" class="confirmation-popup">
  <div class="confirmation-popup-inner">
    <h3 id="confirmation-title">Make Thing Public?</h3>
    <p id="confirmation-description">This will make your completed thing visible to the community. Other users will be
      able to see and get inspired by your experience.</p>
    <div class="confirmation-popup-buttons">
      <button class="confirmation-cancel" id="confirmation-cancel">Cancel</button>
      <button class="confirmation-confirm" id="confirmation-confirm">Make Thing Public</button>
    </div>
  </div>
</div>

<!-- Referral Popup -->
<div id="referral-popup" class="referral-popup">
  <div class="referral-popup-inner">
    <h3>Invite Friends</h3>
    <p>Share your personal referral link with friends and help them discover amazing things in your area!</p>
    <div class="referral-link-container">
      <span class="referral-link" id="referral-link-text">
        <span class="base-url">https://globio.io/ref/</span><span class="highlight" id="referral-code">YOURCODE</span>
      </span>
      <button class="copy-btn" id="copy-referral-btn">Copy</button>
    </div>
    <div class="referral-popup-buttons">
      <button class="btn-secondary" id="referral-close">Close</button>
    </div>
  </div>
</div>

<!-- Community Empty State Popup -->
<div id="community-empty-popup" class="referral-popup">
  <div class="referral-popup-inner">
    <h3>Expand Globio Community</h3>
    <p>Here's your referral code. Copy it and share with friends to expand the Globio community in your area!</p>
    <div class="referral-link-container">
      <span class="referral-link" id="community-referral-link-text">
        <span class="base-url">https://globio.io/ref/</span><span class="highlight"
          id="community-referral-code">YOURCODE</span>
      </span>
      <button class="copy-btn" id="copy-community-referral-btn">Copy</button>
    </div>
    <div class="referral-popup-buttons">
      <button class="btn-secondary" id="community-popup-close">Close</button>
    </div>
  </div>
</div>

  <!-- Expiry Info Popup -->
  <div id="expiry-info-popup" class="expiry-info-popup" onclick="if(event.target === this) window.forceCloseExpiryPopup()">
    <div class="expiry-info-popup-inner">
      <button class="expiry-close" id="expiry-close" onclick="window.forceCloseExpiryPopup()">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
      </button>
      <div class="expiry-header">
        <h3 class="expiry-title">Thing Expiration</h3>
      </div>
      <div class="expiry-content">
        <p>Add a photo from the location to complete this Thing and unlock its benefits:</p>
        <div class="completion-benefits">
          <div class="benefit-item">
            <div class="benefit-icon">
              <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68c456ad0331f5ca11d27c0f_check.svg" alt="Check" width="16" height="16">
            </div>
            <div class="benefit-text">Won't expire and stays in your collection</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">
              <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68c456ad0331f5ca11d27c0f_check.svg" alt="Check" width="16" height="16">
            </div>
            <div class="benefit-text">Gives your profile XP to progress to new levels</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">
              <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68c456ad0331f5ca11d27c0f_check.svg" alt="Check" width="16" height="16">
            </div>
            <div class="benefit-text">Make it public to earn XP from remixes</div>
          </div>
        </div>
        <div class="expiry-details">
          <div class="days-left" id="expiry-days-display">X days left</div>
          <div class="expiry-date" id="expiry-date-display">Expires on: Date</div>
        </div>
      </div>
      <div class="expiry-buttons">
        <button class="expiry-got-it-btn" id="expiry-popup-close" onclick="window.forceCloseExpiryPopup()">Got it!</button>
      </div>
    </div>
  </div>

  <!-- Share Completed Things Popup -->
  <div id="share-popup" class="share-popup" onclick="if(event.target === this) window.forceCloseSharePopup()">
    <div class="share-popup-inner">
      <button class="share-close" id="share-close" onclick="window.forceCloseSharePopup()">
        <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
      </button>
      <div class="share-header">
        <h3 class="share-title">Share Your Experience</h3>
      </div>
                  <div class="share-content">
                    <p>Share all your completed Things with your friend</p>
                    <div class="share-visual">
                      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68cfbf34fd4c2925937b6f6b_things-pack-2.avif" alt="Stack of completed Things" class="things-pack-image">
                    </div>
                    <div class="share-preview" id="share-preview">
                      <!-- Generated content will appear here -->
                    </div>
                  </div>
      <div class="share-buttons">
        <button class="share-generate-btn" id="share-generate-btn">Generate</button>
      </div>
    </div>
  </div>

<!-- Role Achievement Popup -->
<div id="role-achievement-popup" class="role-achievement-popup">
  <div class="role-achievement-overlay"></div>
  <div class="role-achievement-content">
    
    
    <!-- Achievement Content -->
    <div class="achievement-header">
      <h2 class="achievement-title">New Role Unlocked!</h2>
      <p class="achievement-subtitle">Congratulations on your achievement!</p>
    </div>
    
    <div class="achievement-role-display">
      <!-- Dynamic Visual Container (behind avatar) -->
      <div class="achievement-dynamic-visual-container">
        <img id="achievement-dynamic-visual" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/68bfe28c396f3faca6234db5_adaptio.svg" alt="Level Visual" width="200" height="200">
      </div>
      
      <div class="achievement-circular-progress-container">
        <div class="achievement-circular-progress">
          <svg class="achievement-progress-ring" width="80" height="80">
            <circle class="achievement-progress-ring-circle-bg" cx="40" cy="40" r="35" fill="transparent" stroke="#e0e0e0" stroke-width="6"/>
            <circle class="achievement-progress-ring-circle" cx="40" cy="40" r="35" fill="transparent" stroke="#B1E530" stroke-width="6" stroke-linecap="round" stroke-dasharray="219.8" stroke-dashoffset="219.8"/>
          </svg>
          <div class="achievement-level-avatar">
            <img id="achievement-avatar" src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6883c7a80506f986b2f7ddb7_db85210bbfb795678a1578319074aaf4_placeholder.svg" alt="User Avatar" width="48" height="48">
          </div>
        </div>
        <div class="achievement-role-badge" id="achievement-role-badge">
          <span id="achievement-role-name">Local</span>
        </div>
      </div>
    </div>
    
    
    <div class="achievement-buttons">
      <button class="achievement-btn-secondary" id="achievement-close-btn">Continue</button>
      <button class="achievement-btn-primary" id="achievement-view-progress-btn">View Progress</button>
    </div>
  </div>
</div>

<!-- Card popup -->
<div id="one-thing-popup" class="one-thing-popup">
  <div class="one-thing-popup-inner">
    <!-- Content wrapper with pill, icon, title, and description -->
    <div class="popup-content-wrapper">
      <!-- Category pill -->
      <div class="popup-category-pill" id="popup-category">
        <span id="popup-category-text">Places</span>
      </div>

      <!-- Category icon -->
      <div class="popup-category-icon" id="popup-category-icon">
        <img id="popup-category-image" src="" alt="Category icon">
      </div>

      <!-- Title and description -->
      <h3 id="popup-title"></h3>
      <p id="popup-desc"></p>
    </div>

    <!-- Action buttons -->
    <div class="popup-buttons">
      <button id="popup-skip" class="popup-skip">
        <img
          src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6820b6797ea854969e2c43ab_skip-card-icon.svg"
          alt="Skip" width="16" height="16">
        <span>Skip</span>
      </button>
      <button id="popup-save" class="popup-save">
        <img
          src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6820b67bc960fe7e64297756_save-card-icon.svg"
          alt="Save" width="16" height="16">
        <span>Save</span>
      </button>
    </div>
  </div>
</div>

<!-- How One Things Work Popup -->
<div id="how-one-things-work-popup" class="how-one-things-work-popup">
  <div class="how-one-things-work-content">
    <button class="close-modal" id="close-how-one-things-work-modal">
      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6851bc3c3f7aabe2efc4ae8e_close-icon.svg" alt="Close" width="32" height="32">
    </button>
    
    <div class="how-one-things-work-header">
      <h2 class="how-one-things-work-title">How One Things Work</h2>
      <p class="how-one-things-work-subtitle">Discover how we generate personalized recommendations for you</p>
    </div>
    
    <!-- Visual Section -->
    <div class="how-one-things-work-visual">
      <div class="visual-placeholder">
        <!-- Placeholder for future visual content -->
        <div class="visual-content">
          <div class="zone-visual">
            <div class="zone-circle">
              <div class="zone-center">
                <span class="zone-label">You</span>
              </div>
            </div>
            <div class="zone-radius">70km radius</div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Content Section -->
    <div class="how-one-things-work-body">
      <div class="explanation-section">
        <h3 class="explanation-title">Generation Radius</h3>
        <p class="explanation-text">
          All One Things are generated within a <strong>70km radius</strong> around your current location. 
          This ensures that every recommendation is accessible and relevant to your daily life, whether you're 
          exploring your neighborhood or planning a day trip.
        </p>
      </div>
      
      <div class="explanation-section">
        <h3 class="explanation-title">Where Things Come From</h3>
        <p class="explanation-text">
          We use the <strong>Foursquare API</strong> to discover amazing places and activities in your area. 
          This powerful location intelligence helps us find the best restaurants, attractions, cultural sites, 
          and local experiences that match your interests and context.
        </p>
      </div>
      
      <div class="explanation-section">
        <h3 class="explanation-title">Personalized for You</h3>
        <p class="explanation-text">
          Each One Thing is carefully selected based on your location, preferences, and the time of day. 
          We consider factors like your activity zone, local context, and trending places to ensure 
          every recommendation feels fresh and exciting.
        </p>
      </div>
    </div>
    
    <div class="how-one-things-work-footer">
      <button class="got-it-btn" id="got-it-btn">Got it!</button>
    </div>
  </div>
</div>

<script src="main.js">
</script>

<!-- Footer -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-left">
      <img src="https://cdn.prod.website-files.com/64d15b8bef1b2f28f40b4f1e/6832d9b8e5b4f439621d5a12_one-thing-by-globio.svg" alt="One Thing by Globio" class="footer-logo">
    </div>
    <div class="footer-right">
      <a href="https://www.globio.io/privacy" target="_blank" rel="noopener noreferrer" class="footer-link">Privacy Policy</a>
      <a href="https://www.globio.io/terms" target="_blank" rel="noopener noreferrer" class="footer-link">Terms and Conditions</a>
      <a href="https://www.globio.io/" target="_blank" rel="noopener noreferrer" class="footer-link">Globio Unity, Inc.</a>
    </div>
  </div>
</footer>


